<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.45">

  <meta name="author" content="Minna Heim">
  <title>Guest Lecture Slides 2025 – Guest Lecture 2025</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Guest Lecture 2025</h1>
  <p class="subtitle">Leverage APIs for Economic Data</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Minna Heim 
</div>
</div>
</div>

</section>

<section id="how-do-we-get-the-data-for-this-plot" class="slide level2 smaller">
<h2>How do we get the data for this Plot?</h2>
<!-- Speaker Notes: 
Don't say anything about APIs yet. 
This is the KOF Economic Barometer, it's an economic index - monitoring the swiss economy is the goal, it is complex, but this captures it in just ONE number!
-> how? it's a collection of relevant data that helps capture the swiss economy, synthesised together
the kof baro, consists of 100s if not thousands of indivdual time series
Let's pretend, we want to reconstruct our own economic index  -->
<!-- TODO: use swiss baro, not global -->

<img data-src="presentation_files/figure-revealjs/kofdata-1.png" width="960" class="r-stretch"></section>
<section id="about-me" class="slide level2">
<h2>About me</h2>
<ul>
<li>I took this course 4 years ago!</li>
<li>Doing a Master in Data Science &amp; minor in Economics at UZH</li>
<li>Working at KOF-ETH</li>
</ul>
<!-- Speaker Notes: I work in the institute that produces the data i just showed you -->
</section>
<section id="about-the-institute-and-my-work" class="slide level2">
<h2>About the institute and my work</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/ETH_Fremdmedienlogo_KOF_horizontal_pos.png"> <img data-src="img/rseed-pos.png"> <img data-src="img/h4sci-logo-web.svg" style="width:50.0%"></p>
</div><div class="column" style="width:60%;">
<ul>
<li>From surveys to innovation to forecasting</li>
<li>software, infrastructure and data publications with economic use cases.</li>
<li>Teaching doctoral students to work with data &amp; co.</li>
</ul>
</div>
</div>
</section>
<section id="what-will-you-know-by-the-end-of-this-lecture" class="slide level2">
<h2>What will you know by the end of this lecture?</h2>
<ul>
<li>gain a better understanding of how APIs are used</li>
<li>build your own mini wrapper</li>
<li>learn to identify and understand the use of APIs in real-world contexts</li>
</ul>
</section>
<section id="construct-your-own-economic-index" class="title-slide slide level1 center">
<h1>Construct your own Economic Index</h1>
<!-- 
Speaker Notes:

Brainstorming session: what kind of variables could be relevant for our economic index?

- what kind of data do you need to construct your own index that best represents Swiss Economic Activity
- you need: gdp, energy consumption, demographic information, swiss market index (smi), etc. 
- how would you get all of this data?
-->
</section>

<section>
<section id="naive-way" class="title-slide slide level1 center">
<h1>Naive Way</h1>

</section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="img/google_datasets.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-1" class="slide level2">
<h2></h2>

<img data-src="img/wirtschaftsdaten.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-2" class="slide level2">
<h2></h2>

<img data-src="img/search.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-3" class="slide level2">
<h2></h2>
<p><img data-src="img/downloaded.png" class="quarto-figure quarto-figure-center"> <!-- Speaker Notes: it looks like this (wide format) because its nice to look at & humanly readable
long: machine friendly,  R plotting packages in prefer long

Here: I have to say that this is a "friendly example", not all data is excel, but px format - a format that many data providers prefer.

 --></p>
</section>
<section id="import-clean-data" class="slide level2 smaller">
<h2>Import &amp; Clean Data</h2>
<!-- Speaker Notes:  
now that we have downloaded the data, we need to import and clean it, so we can use it for analysis
-->
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Code</a></li><li><a href="#tabset-1-2">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(magrittr)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-4"><a></a></span>
<span id="cb1-5"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"examples/je-d-04.02.01.03.xlsx"</span>) </span>
<span id="cb1-6"><a></a></span>
<span id="cb1-7"><a></a><span class="co"># subset only the rows 3 (= year) and 9 (= gdp)</span></span>
<span id="cb1-8"><a></a>gdp <span class="ot">&lt;-</span> data[<span class="dv">9</span>,]</span>
<span id="cb1-9"><a></a><span class="fu">names</span>(gdp) <span class="ot">&lt;-</span> data[<span class="dv">3</span>,]</span>
<span id="cb1-10"><a></a></span>
<span id="cb1-11"><a></a><span class="co"># pivot data longer (from excel wide format to data frame long format)</span></span>
<span id="cb1-12"><a></a>gdp_long <span class="ot">&lt;-</span> gdp <span class="sc">%&gt;%</span></span>
<span id="cb1-13"><a></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Year"</span>, <span class="at">values_to =</span> <span class="st">"GDP"</span>)</span>
<span id="cb1-14"><a></a></span>
<span id="cb1-15"><a></a><span class="co"># remove old headers </span></span>
<span id="cb1-16"><a></a>gdp_long <span class="ot">&lt;-</span> gdp_long[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>),]</span>
<span id="cb1-17"><a></a><span class="co"># check structure</span></span>
<span id="cb1-18"><a></a><span class="co"># str(gdp_long)</span></span>
<span id="cb1-19"><a></a></span>
<span id="cb1-20"><a></a><span class="co"># convert to gdp numeric and year to year</span></span>
<span id="cb1-21"><a></a>gdp_long<span class="sc">$</span>GDP <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(gdp_long<span class="sc">$</span>GDP)</span>
<span id="cb1-22"><a></a>gdp_long<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(gdp_long<span class="sc">$</span>Year)</span>
<span id="cb1-23"><a></a></span>
<span id="cb1-24"><a></a><span class="fu">head</span>(gdp_long, <span class="at">n=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2">
<!-- Speaker Notes:
don't focus too much on the tidyr, Aurélien will teach you about this, essentially: 
pivot from wide (excel format) to long format (easier to plot)

wide: values are horizontally oriented
long: values are vertically oriented

 -->
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
    Year     GDP
   &lt;int&gt;   &lt;dbl&gt;
 1  1995 423515.
 2  1996 426882.
 3  1997 433747.
 4  1998 444955.
 5  1999 453531.
 6  2000 476794.
 7  2001 489674.
 8  2002 489293.
 9  2003 493652.
10  2004 508608.</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="api-wrapper-way" class="title-slide slide level1 center">
<h1>API (wrapper) way</h1>
<!-- Speaker Notes: 
- getting gdp data from above was hard because we weren't sure where to find what, and how it was gonna look (=which format) 

Using APIs, means everything is standardised - because of the HTTP protocol

- just a reminder: protocol means explicit way of behaving, we as humans have implicit protocol too (like how to behave), but machines have explicit protocols, you can see this with http (how the internet works)
 -->
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<!-- Speaker Notes: 
HTTP dictates how data exchange happens on the web, and hence essential for APIs
- HTTP has main concept:
1. client - server 
2. communication through request & response
 -->

<img data-src="./img/api_conceptual_1.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-5" class="slide level2">
<h2></h2>
<!--
Speaker Notes:
not only does HTTP specify client server and request/response but:
 -  HTTP has 4 main request methods: GET, POST, DELETE, PUT 
-->

<img data-src="./img/api_conceptual_2.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-6" class="slide level2">
<h2></h2>
<!-- 
Speaker Notes:
Putting the rest of the request together ->

- client makes a request to the server, specifying the following information:
- what ? -> HTTP verb
- where? -> base url  (location of server, repr. by the domain)
- which service -> endpoint (all data, specific data, all users, etc. -> usually last word is a verb or a plural noun)
- how (is the data represented)? -> params 
 -->

<img data-src="./img/api_conceptual_3.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-7" class="slide level2">
<h2></h2>
<!--
Speaker Notes: 

Important here is when looking at parameters, we need to differentiate between path param & query params - both used, you see them now so you don't get confused later 
- which API uses what is design preferences although there are cases where one is better than another (i.e. getting time series based on start & end params -> query param)
 -->

<img data-src="./img/api_conceptual_4.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-8" class="slide level2">
<h2></h2>
<!-- 
Speaker Notes:
So, final request is sent to the server - we get a response

response consists of status (e.g. success) and response body 
 -->

<img data-src="./img/api_conceptual_5.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="api-example" class="slide level2">
<h2>API Example</h2>
<p><img src="./img/api_url.png" style="display:block; margin:0 auto; width:90%;"> <!-- 
Speaker Notes: 
when explaining this, encourage students to try out the link themselves -> how many IDs do we get when we use "poodle"
--></p>
</section>
<section id="api-wrappers" class="slide level2 smaller">
<h2>API wrappers</h2>
<!-- 
Speaker Notes:
API wrappers: simple program wraps the process of using the interface through dynamic URLs into a parameterized function

this is the most frequent way which you will encounter APIs, wrapped 
 -->

<img data-src="./img/api_wrapper.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="use-the-bfs-api-wrapper-for-r" class="slide level2 smaller">
<h2>Use the BFS API Wrapper for R</h2>
<!-- 
Speaker Notes:
important here: after line 6, we're done with all the API stuff, all the searching for and getting data (what took us so long before)

the rest: line 8-21 is just filtering, and inspecting

-->
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">code</a></li><li><a href="#tabset-2-2">output 1</a></li><li><a href="#tabset-2-3">output 2</a></li><li><a href="#tabset-2-4">output 3</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="co"># devtools::install_github("lgnbhl/BFS")</span></span>
<span id="cb3-2"><a></a><span class="fu">library</span>(BFS)</span>
<span id="cb3-3"><a></a></span>
<span id="cb3-4"><a></a><span class="co"># to inspect functions, use ?function, e.g. </span></span>
<span id="cb3-5"><a></a>?bfs_get_catalog_data</span>
<span id="cb3-6"><a></a></span>
<span id="cb3-7"><a></a><span class="fu">bfs_get_catalog_data</span>(<span class="at">language =</span> <span class="st">"en"</span>, <span class="at">title =</span> <span class="st">"energy"</span>)</span>
<span id="cb3-8"><a></a>dataset_nr <span class="ot">&lt;-</span> <span class="st">"px-x-0204000000_106"</span></span>
<span id="cb3-9"><a></a>energy_df <span class="ot">&lt;-</span> <span class="fu">bfs_get_data</span>(dataset_nr, <span class="at">lang =</span> <span class="st">"en"</span>)</span>
<span id="cb3-10"><a></a></span>
<span id="cb3-11"><a></a><span class="co"># filter only total energy accounts</span></span>
<span id="cb3-12"><a></a>total_energy <span class="ot">&lt;-</span> <span class="fu">subset</span>(</span>
<span id="cb3-13"><a></a>  energy_df,</span>
<span id="cb3-14"><a></a>  <span class="co"># filter for totals for each of the columns </span></span>
<span id="cb3-15"><a></a>  <span class="st">`</span><span class="at">Economy and households</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Economy and households - Total"</span> <span class="sc">&amp;</span></span>
<span id="cb3-16"><a></a>  <span class="st">`</span><span class="at">Energy product</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Energy product - Total"</span>,</span>
<span id="cb3-17"><a></a>  <span class="co"># select only the two relevant columns</span></span>
<span id="cb3-18"><a></a>  <span class="at">select =</span> <span class="fu">c</span>(Year, <span class="st">`</span><span class="at">Energy accounts of economy and households</span><span class="st">`</span>)</span>
<span id="cb3-19"><a></a>)</span>
<span id="cb3-20"><a></a></span>
<span id="cb3-21"><a></a><span class="fu">names</span>(total_energy)[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">"Amount"</span></span>
<span id="cb3-22"><a></a></span>
<span id="cb3-23"><a></a><span class="co"># View(total_energy)</span></span>
<span id="cb3-24"><a></a><span class="fu">head</span>(total_energy, <span class="at">n=</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 6
  title                 language number_bfs number_asset publication_date url_px
  &lt;chr&gt;                 &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;        &lt;date&gt;           &lt;chr&gt; 
1 Energy accounts of e… en       px-x-0204… 36179320     2025-09-30       https…</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  `Unit of measure` `Economy and households`       `Energy product`       Year 
  &lt;chr&gt;             &lt;chr&gt;                          &lt;chr&gt;                  &lt;chr&gt;
1 Terajoules        Economy and households - Total Energy product - Total 2000 
2 Terajoules        Economy and households - Total Energy product - Total 2001 
3 Terajoules        Economy and households - Total Energy product - Total 2002 
4 Terajoules        Economy and households - Total Energy product - Total 2003 
5 Terajoules        Economy and households - Total Energy product - Total 2004 
6 Terajoules        Economy and households - Total Energy product - Total 2005 
# ℹ 1 more variable: `Energy accounts of economy and households` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-2-4">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   Year    Amount
   &lt;chr&gt;    &lt;dbl&gt;
 1 2000  1103603.
 2 2001  1127768.
 3 2002  1112879.
 4 2003  1130842.
 5 2004  1131767.
 6 2005  1121999.
 7 2006  1157170.
 8 2007  1126804.
 9 2008  1158734.
10 2009  1136915.</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="bfs-api---under-the-hood" class="title-slide slide level1 center">
<h1>BFS API - under the hood</h1>
<!-- Speaker Notes:
one way in which we know how the BFS API works, 
other than just going to the BFS API website, is to check out the github repository where the api wrapper is written - we see the functions we previously used in action
-->
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<!-- 
Speaker Notes:
  looks complicated, let's look at it more closely -->

<img data-src="img/bfs_get_data.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="lets-take-a-closer-look" class="slide level2 smaller">
<h2>Let’s take a closer look</h2>
<!-- Speaker Notes:
  let's go through this like by line: 
  we have the base url, the endpoints (no params here?)
  then perform, and specify how to get the response


  Important: this function uses httr2 to only get the structure & metadata of the function, not the actual panel data, this is done using pxWeb API (wrapper)...
 -->
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Function</a></li><li><a href="#tabset-3-2">Browser Output</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a>bfs_get_data <span class="ot">&lt;-</span> <span class="cf">function</span>(number_bfs, <span class="at">language =</span> <span class="st">"de"</span>, <span class="at">query =</span> <span class="cn">NULL</span>, <span class="at">column_name_type =</span> <span class="st">"text"</span>, <span class="at">variable_value_type =</span> <span class="st">"text"</span>, <span class="at">clean_names =</span> <span class="cn">FALSE</span>, <span class="at">delay =</span> <span class="cn">NULL</span>) {</span>
<span id="cb7-2"><a></a>  <span class="co"># base url</span></span>
<span id="cb7-3"><a></a>  df_json <span class="ot">&lt;-</span> httr2<span class="sc">::</span><span class="fu">request</span>(<span class="st">"https://www.pxweb.bfs.admin.ch/api/v1"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a></a>    <span class="co"># add endpoints</span></span>
<span id="cb7-5"><a></a>    httr2<span class="sc">::</span><span class="fu">req_url_path_append</span>(<span class="fu">paste0</span>(language, <span class="st">"/"</span>, number_bfs, <span class="st">"/"</span>, number_bfs, <span class="st">".px"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a></a>    httr2<span class="sc">::</span><span class="fu">req_retry</span>(<span class="at">max_tries =</span> <span class="dv">2</span>, <span class="at">max_seconds =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a></a>    <span class="co"># executre request</span></span>
<span id="cb7-8"><a></a>    httr2<span class="sc">::</span><span class="fu">req_perform</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-9"><a></a>    <span class="co"># transform response to json</span></span>
<span id="cb7-10"><a></a>    httr2<span class="sc">::</span><span class="fu">resp_body_json</span>(<span class="at">simplifyVector =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2">
<p><img data-src="img/browser.png"></p>
</div>
</div>
</div>
</section>
<section id="why-apis" class="slide level2">
<h2>Why APIs?</h2>
<!-- 
Speaker Notes:
maybe by now, you have some ideas as to why API's are useful... -->
<ul>
<li>automation</li>
<li>easier to fetch specific data (specify time, specific indicators)</li>
<li>real time data</li>
<li>API usage (often) so much easier than scraping &amp; downloading &amp; reading &amp; cleaning!! (all-in-1)</li>
<li>used everywhere!</li>
</ul>
</section></section>
<section>
<section id="exercises-build-your-own-api-wrapper" class="title-slide slide level1 center">
<h1>Exercises: Build your own API wrapper</h1>
<!-- Speaker Notes:
why would you build your own API wrapper?
- do your research: does an API wrapper exist, does it suit your needs?
- doesn't exist yet, or current version is badly designed but cannot be contributed to (?)
- how? read documentation of API
- read httr2 documentation - what functions do we need to do this? 
 -->
</section>
<section id="httr2-cheatsheet" class="slide level2 smaller">
<h2>httr2 cheatsheet</h2>
<!-- 
Speaker Notes:
these are the most important functions in httr2, and how they translate to the diagram we saw above
 -->
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Category</th>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Request</strong></td>
<td><code>request()</code></td>
<td>Creates a new HTTP request object that defines the endpoint and method (e.g., GET, POST).</td>
</tr>
<tr class="even">
<td><strong>Request</strong></td>
<td><code>req_perform()</code></td>
<td>Sends the built request to the server and <em>returns the response object</em>.</td>
</tr>
<tr class="odd">
<td><strong>Response</strong></td>
<td><code>resp_body_json()</code></td>
<td>Parses the response body as JSON and returns it as an R list.</td>
</tr>
<tr class="even">
<td><strong>Response</strong></td>
<td><code>resp_status()</code></td>
<td>Retrieves the HTTP status from the response object.</td>
</tr>
</tbody>
</table>
</section>
<section id="covid-19-api" class="slide level2">
<h2>COVID 19 API</h2>
<ul>
<li>building our Economic Index</li>
<li>for the time during and post covid</li>
<li>for this, get vaccination and COVID 19 case rates (incl.&nbsp;death &amp; recovery)</li>
</ul>
</section>
<section id="section-10" class="slide level2">
<h2></h2>

<img data-src="./img/swagger_overview.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-11" class="slide level2">
<h2></h2>

<img data-src="./img/historical_endpoint.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="section-12" class="slide level2">
<h2></h2>

<img data-src="./img/try_out_endpoint.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="get-covid-case-counts" class="slide level2 smaller">
<h2>GET COVID Case Counts</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Code</a></li><li><a href="#tabset-4-2">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">library</span>(httr2)</span>
<span id="cb8-2"><a></a><span class="co"># library(magrittr)</span></span>
<span id="cb8-3"><a></a>get_case_counts <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">country =</span> <span class="st">"CH"</span>, <span class="at">period =</span> <span class="st">"all"</span>){</span>
<span id="cb8-4"><a></a>  base_url <span class="ot">&lt;-</span> <span class="st">"https://disease.sh/v3/covid-19/historical"</span></span>
<span id="cb8-5"><a></a>  final_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, <span class="st">"/"</span>, country, <span class="st">"?lastdays="</span>, period)</span>
<span id="cb8-6"><a></a></span>
<span id="cb8-7"><a></a>  <span class="co"># alternative - using magrittr pipe</span></span>
<span id="cb8-8"><a></a>  <span class="co"># req &lt;- request(base_url) %&gt;%</span></span>
<span id="cb8-9"><a></a>  <span class="co">#   req_url_path_append(country) %&gt;%</span></span>
<span id="cb8-10"><a></a>  <span class="co">#   req_url_query(period = period)</span></span>
<span id="cb8-11"><a></a></span>
<span id="cb8-12"><a></a>  <span class="co"># perform API call with httr2</span></span>
<span id="cb8-13"><a></a>  req <span class="ot">&lt;-</span> <span class="fu">request</span>(final_url) </span>
<span id="cb8-14"><a></a>  resp <span class="ot">&lt;-</span> <span class="fu">req_perform</span>(req)</span>
<span id="cb8-15"><a></a></span>
<span id="cb8-16"><a></a>  <span class="co"># if request is not successful</span></span>
<span id="cb8-17"><a></a>  <span class="cf">if</span> (<span class="fu">resp_status</span>(resp) <span class="sc">!=</span> <span class="dv">200</span>){</span>
<span id="cb8-18"><a></a>    <span class="fu">message</span>(<span class="st">"The request was not successful"</span>)</span>
<span id="cb8-19"><a></a>  }</span>
<span id="cb8-20"><a></a>  <span class="cf">else</span>{</span>
<span id="cb8-21"><a></a>    <span class="fu">return</span>(<span class="fu">resp_body_json</span>(resp))</span>
<span id="cb8-22"><a></a>  }</span>
<span id="cb8-23"><a></a>}</span>
<span id="cb8-24"><a></a></span>
<span id="cb8-25"><a></a><span class="fu">get_case_counts</span>(<span class="st">"CH"</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2">
<!-- TODO: determine how to do the period thing, 5 works, but isn't specified here -->
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>$country
[1] "Switzerland"

$province
$province[[1]]
[1] "mainland"


$timeline
$timeline$cases
$timeline$cases$`3/5/23`
[1] 4412439

$timeline$cases$`3/6/23`
[1] 4412439

$timeline$cases$`3/7/23`
[1] 4413911

$timeline$cases$`3/8/23`
[1] 4413911

$timeline$cases$`3/9/23`
[1] 4413911


$timeline$deaths
$timeline$deaths$`3/5/23`
[1] 14207

$timeline$deaths$`3/6/23`
[1] 14207

$timeline$deaths$`3/7/23`
[1] 14207

$timeline$deaths$`3/8/23`
[1] 14209

$timeline$deaths$`3/9/23`
[1] 14210


$timeline$recovered
$timeline$recovered$`3/5/23`
[1] 0

$timeline$recovered$`3/6/23`
[1] 0

$timeline$recovered$`3/7/23`
[1] 0

$timeline$recovered$`3/8/23`
[1] 0

$timeline$recovered$`3/9/23`
[1] 0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-description" class="slide level2 smaller">
<h2>Exercise Description</h2>
<ul>
<li>use the API documentation: <a href="https://disease.sh/docs/">https://disease.sh/docs/</a></li>
<li>use the template to write a function <strong>to get vaccination rates for a country</strong></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="fu">library</span>(httr2)</span>
<span id="cb10-2"><a></a></span>
<span id="cb10-3"><a></a>get_country_vaccine_rates <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">country =</span> <span class="st">"CH"</span>, <span class="at">period =</span> <span class="st">"all"</span>){</span>
<span id="cb10-4"><a></a></span>
<span id="cb10-5"><a></a>  base_url <span class="ot">&lt;-</span> <span class="st">"..."</span></span>
<span id="cb10-6"><a></a>  final_url <span class="ot">&lt;-</span> <span class="st">"..."</span></span>
<span id="cb10-7"><a></a></span>
<span id="cb10-8"><a></a>  <span class="co"># perform  API call with httr2</span></span>
<span id="cb10-9"><a></a>  req <span class="ot">&lt;-</span> <span class="st">"..."</span>(final_url) </span>
<span id="cb10-10"><a></a>  resp <span class="ot">&lt;-</span> <span class="st">"..."</span>(req)</span>
<span id="cb10-11"><a></a></span>
<span id="cb10-12"><a></a>  <span class="co"># if request is not successful</span></span>
<span id="cb10-13"><a></a>  <span class="cf">if</span> (<span class="fu">resp_status</span>(resp) <span class="sc">!=</span> <span class="dv">200</span>){</span>
<span id="cb10-14"><a></a>    <span class="fu">message</span>(<span class="st">"The request was not successful"</span>)</span>
<span id="cb10-15"><a></a>  }</span>
<span id="cb10-16"><a></a>  <span class="cf">else</span>{</span>
<span id="cb10-17"><a></a>    <span class="fu">return</span>(<span class="fu">resp_body_json</span>(resp))</span>
<span id="cb10-18"><a></a>  }</span>
<span id="cb10-19"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section></section>
<section>
<section id="sample-solution" class="title-slide slide level1 center">
<h1>Sample Solution</h1>

</section>
<section id="get-vaccine-rates" class="slide level2 smaller">
<h2>GET Vaccine Rates</h2>
<!-- Sample Solution:

if you were to build your own API wrapper functions - need to make them more "fool-proof" and descriptive when it comes to errors, e.g.. -> this is just a simple example 
 -->
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Code</a></li><li><a href="#tabset-5-2">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">library</span>(httr2)</span>
<span id="cb11-2"><a></a></span>
<span id="cb11-3"><a></a>get_country_vaccine_rates <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">country =</span> <span class="st">"CH"</span>, <span class="at">period =</span>  <span class="st">"all"</span>){</span>
<span id="cb11-4"><a></a>  <span class="co"># https://disease.sh/v3/covid-19/vaccine/coverage/countries/CH?lastdays=30&amp;fullData=false</span></span>
<span id="cb11-5"><a></a>  base_url <span class="ot">&lt;-</span> <span class="st">"https://disease.sh/v3/covid-19/vaccine/coverage/countries"</span></span>
<span id="cb11-6"><a></a>  final_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, <span class="st">"/"</span>, country, <span class="st">"?lastdays="</span>, period, <span class="st">"&amp;fullData=false"</span>)</span>
<span id="cb11-7"><a></a></span>
<span id="cb11-8"><a></a>  <span class="co"># perform  API call with httr2</span></span>
<span id="cb11-9"><a></a>  req <span class="ot">&lt;-</span> <span class="fu">request</span>(final_url) </span>
<span id="cb11-10"><a></a>  resp <span class="ot">&lt;-</span> <span class="fu">req_perform</span>(req)</span>
<span id="cb11-11"><a></a></span>
<span id="cb11-12"><a></a>  <span class="co"># if request is not successful</span></span>
<span id="cb11-13"><a></a>  <span class="cf">if</span> (<span class="fu">resp_status</span>(resp) <span class="sc">!=</span> <span class="dv">200</span>){</span>
<span id="cb11-14"><a></a>    <span class="fu">message</span>(<span class="st">"The request was not successful"</span>)</span>
<span id="cb11-15"><a></a>  }</span>
<span id="cb11-16"><a></a>  <span class="cf">else</span>{</span>
<span id="cb11-17"><a></a>    <span class="fu">return</span>(<span class="fu">resp_body_json</span>(resp))</span>
<span id="cb11-18"><a></a>  }</span>
<span id="cb11-19"><a></a>}</span>
<span id="cb11-20"><a></a></span>
<span id="cb11-21"><a></a><span class="fu">get_country_vaccine_rates</span>(<span class="st">"CH"</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>$country
[1] "Switzerland"

$timeline
$timeline$`7/17/25`
[1] 16940716

$timeline$`7/18/25`
[1] 16940716

$timeline$`7/19/25`
[1] 16940716

$timeline$`7/20/25`
[1] 16940716

$timeline$`7/21/25`
[1] 16940716</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="other-examples-of-apis-api-wrappers-for-economic-data" class="slide level2 smaller">
<h2>Other examples of APIs &amp; API wrappers for economic data</h2>
<ul>
<li>the <a href="https://www.rdocumentation.org/packages/kofdata/versions/0.2.1">kofdata</a> R Package (for KOF data)</li>
<li>the <a href="https://felixluginbuhl.com/BFS/">BFS</a> R package (for Swiss federal statistics)</li>
<li>the <a href="https://pypi.org/project/fredapi/">fredapi</a> Python Library (for US economic data)</li>
<li>the <a href="https://sboysel.github.io/fredr/">fredr</a> data from the Federal Reserve Economic Data (FRED) API R package</li>
<li><a href="https://github.com/public-apis/public-apis">public-apis</a> a Github repository listing Public APIs</li>
</ul>
</section>
<section id="thank-you-for-your-attention" class="slide level2 smaller">
<h2>Thank you for your attention!</h2>
<p>If you are interested in working with us or if you have any questions:</p>
<ul>
<li>source code: <a href="https://github.com/minnaheim/dh_guest_lecture_2025">https://github.com/minnaheim/dh_guest_lecture_2025</a></li>
<li>slides: <a href="https://minnaheim.github.io/dh_guest_lecture_2025/presentation.html">https://minnaheim.github.io/dh_guest_lecture_2025/presentation.html/</a></li>
<li>find us at <a href="https://rseed.ch">rseed.ch</a></li>
<li>contact me: <a href="mailto:heim@kof.ethz.ch">heim@kof.ethz.ch</a></li>
</ul>

<div class="quarto-auto-generated-content">
<p><img src="img/rseed-pos.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/minnaheim\.github\.io\/dh_guest_lecture_2025\/presentation\.html");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>